<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Year Planner">
    <meta name="author" content="Craig Parravicini">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel='stylesheet' id='google-font-css'  href='https://fonts.googleapis.com/css?family=Roboto%3A300%2C400%2C600%7CRoboto&#038;ver=1.0' type='text/css' media='all' />
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/yp-dark.css">
    <link rel="stylesheet" href="css/typeaheadjs.css">
    <link rel="stylesheet" type="text/css" href="css/sqpaymentform.css">

    <title>Year Planner</title>

    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="https://unpkg.com/vue-i18n@8"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=Array.from,Promise,Symbol,Object.setPrototypeOf,Object.getOwnPropertySymbols"></script>
    <script src="https://cdn.jsdelivr.net/npm/superagent"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
    <script type="text/javascript" src="https://js.squareupsandbox.com/v2/paymentform"></script>


</head>
<body>
    <div id="app" v-bind:class="{'yp-dark':theme=='dark'}">

        <nav class="navbar navbar-expand sticky-top" >

            <a class="navbar-brand" href="#">{{$t('label.yearplanner')+' '+DateTime.local(year, 1, 1).setLocale(lang).toLocaleString({year:'numeric'})}}</a>
            <div class="collapse navbar-collapse" id="navbarCollapse">
<!--                <ul class="navbar-nav mr-auto">-->
<!--                </ul>-->
            </div>

            <ul class="nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">{{$t('label.year')}}</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" v-bind:href="'/?id='+uid+'&year='+(cyear-1)+'&lang='+lang+'&theme='+theme">{{cyear-1}}</a>
                        <a class="dropdown-item" v-bind:href="'/?id='+uid+'&year='+cyear+'&lang='+lang+'&theme='+theme">{{cyear}}</a>
                        <a class="dropdown-item" v-bind:href="'/?id='+uid+'&year='+(cyear+1)+'&lang='+lang+'&theme='+theme">{{cyear+1}}</a>
                    </div>
                </li>
            </ul>
            <ul class="nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">{{$t('label.month')}}</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="#January" >{{$t('month.January')}}</a>
                        <a class="dropdown-item" href="#February" >{{$t('month.February')}}</a>
                        <a class="dropdown-item" href="#March" >{{$t('month.March')}}</a>
                        <a class="dropdown-item" href="#April" >{{$t('month.April')}}</a>
                        <a class="dropdown-item" href="#May" >{{$t('month.May')}}</a>
                        <a class="dropdown-item" href="#June" >{{$t('month.June')}}</a>
                        <a class="dropdown-item" href="#July" >{{$t('month.July')}}</a>
                        <a class="dropdown-item" href="#August" >{{$t('month.August')}}</a>
                        <a class="dropdown-item" href="#September" >{{$t('month.September')}}</a>
                        <a class="dropdown-item" href="#October" >{{$t('month.October')}}</a>
                        <a class="dropdown-item" href="#November" >{{$t('month.November')}}</a>
                        <a class="dropdown-item" href="#December" >{{$t('month.December')}}</a>
                    </div>
                </li>
            </ul>
<!--            <ul class="nav">-->
<!--                <li class="nav-item dropdown">-->
<!--                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="fas fa-cog" aria-hidden="true"></i></a>-->
<!--                    <div class="dropdown-menu">-->
<!--                        <h6 class="dropdown-header">{{$t('label.theme')}}</h6>-->
<!--                        <a class="dropdown-item" v-bind:href="'/?id='+uid+'&year='+year+'&lang='+lang+'&theme=light'" >{{$t('label.light')}}</a>-->
<!--                        <a class="dropdown-item" v-bind:href="'/?id='+uid+'&year='+year+'&lang='+lang+'&theme=dark'" >{{$t('label.dark')}}</a>-->
<!--                    </div>-->
<!--                </li>-->
<!--            </ul>-->
            <span class="text-right">

                <form class="form-inline my-0 ">
                    <button class="navbar-brand navbar-brand-support btn btn-secondary my-0" type="button" v-on:click="sharePlanner()" data-toggle="modal" data-target="#shareModal" title=""><i class="fa fa-share-alt" aria-hidden="true"></i></button>&nbsp;
<!--                     <button class="navbar-brand navbar-brand-support btn btn-secondary my-0" type="button" v-on:click="sharePlanner()" data-toggle="modal" data-target="#shareModal" title=""><i class="fas fa-sign-in-alt"></i></button>&nbsp;-->
                    <button v-if="feature.subscribe" class="navbar-brand navbar-brand-support btn btn-secondary my-0" type="button" v-on:click="sharePlanner()" data-toggle="modal" data-target="#payModal" title="">Subscribe</button>&nbsp;
               </form>

            </span>

        </nav>

        <main >
            <div class="jumbotron">
                <div class="container">
<!--                    <div>&nbsp</div>-->
<!--                    <div class="row no-gutters">-->
<!--                        <div class="col-xs-12">-->
<!--                            <div class="row tst-cell d-sm-none">Extra Small (xs) < 576px</div>-->
<!--                            <div class="row tst-cell d-none d-sm-inline d-md-none">Small (sm) >= 576</div>-->
<!--                            <div class="row tst-cell d-none d-md-inline d-lg-none">Medium (md) >= 768px</div>-->
<!--                            <div class="row tst-cell d-none d-lg-inline d-xl-none">Large (lg) >= 992px</div>-->
<!--                            <div class="row tst-cell d-none d-xl-inline">Extra Large (xl) >= 1200px</div>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    <div class="row no-gutters">-->
<!--                        <div class="col"><h2>{{$t('label.yearplanner')}} {{year}}</h2></div>-->
<!--                    </div>-->

                    <div id="yp-table" class="row no-gutters">
                        <div id="yp-weekdays" class="col-4 col-sm-3 col-md-2 col-lg-2 col-xl-1">

                                <div class="row no-gutters yp-header-cell"          ><h5>{{DateTime.local(year, 1, 1).setLocale(lang).toLocaleString({year:'numeric'})}}</h5></div><template v-for="w in 5" ><div class="row no-gutters  yp-cell "          v-bind:class="{'yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in daysOfWeek">{{$t('day.'+d)}}</div></template><div class="row no-gutters          "          v-bind:class="{'yp-cell':  ( d != 'Sunday'), 'yp-cell-bottom':  d == 'Tuesday','yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in ['Monday','Tuesday']">{{$t('day.'+d)}}</div>
                                <div class="row no-gutters yp-header-cell d-xl-none"><h5>{{DateTime.local(year, 1, 1).setLocale(lang).toLocaleString({year:'numeric'})}}</h5></div><template v-for="w in 5" ><div class="row no-gutters  yp-cell d-xl-none" v-bind:class="{'yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in daysOfWeek">{{$t('day.'+d)}}</div></template><div class="row no-gutters d-xl-none"          v-bind:class="{'yp-cell':  ( d != 'Sunday'), 'yp-cell-bottom':  d == 'Tuesday','yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in ['Monday','Tuesday']">{{$t('day.'+d)}}</div>
                                <div class="row no-gutters yp-header-cell d-xl-none"><h5>{{DateTime.local(year, 1, 1).setLocale(lang).toLocaleString({year:'numeric'})}}</h5></div><template v-for="w in 5" ><div class="row no-gutters  yp-cell d-xl-none" v-bind:class="{'yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in daysOfWeek">{{$t('day.'+d)}}</div></template><div class="row no-gutters d-xl-none"          v-bind:class="{'yp-cell':  ( d != 'Sunday'), 'yp-cell-bottom':  d == 'Tuesday','yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in ['Monday','Tuesday']">{{$t('day.'+d)}}</div>
                                <div class="row no-gutters yp-header-cell d-lg-none"><h5>{{DateTime.local(year, 1, 1).setLocale(lang).toLocaleString({year:'numeric'})}}</h5></div><template v-for="w in 5" ><div class="row no-gutters  yp-cell d-lg-none" v-bind:class="{'yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in daysOfWeek">{{$t('day.'+d)}}</div></template><div class="row no-gutters d-lg-none"          v-bind:class="{'yp-cell':  ( d != 'Sunday'), 'yp-cell-bottom':  d == 'Tuesday','yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in ['Monday','Tuesday']">{{$t('day.'+d)}}</div>
                                <div class="row no-gutters yp-header-cell d-md-none"><h5>{{DateTime.local(year, 1, 1).setLocale(lang).toLocaleString({year:'numeric'})}}</h5></div><template v-for="w in 5" ><div class="row no-gutters  yp-cell d-md-none" v-bind:class="{'yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in daysOfWeek">{{$t('day.'+d)}}</div></template><div class="row no-gutters d-md-none"          v-bind:class="{'yp-cell':  ( d != 'Sunday'), 'yp-cell-bottom':  d == 'Tuesday','yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in ['Monday','Tuesday']">{{$t('day.'+d)}}</div>
                                <div class="row no-gutters yp-header-cell d-md-none"><h5>{{DateTime.local(year, 1, 1).setLocale(lang).toLocaleString({year:'numeric'})}}</h5></div><template v-for="w in 5" ><div class="row no-gutters  yp-cell d-md-none" v-bind:class="{'yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in daysOfWeek">{{$t('day.'+d)}}</div></template><div class="row no-gutters d-md-none"          v-bind:class="{'yp-cell':  ( d != 'Sunday'), 'yp-cell-bottom':  d == 'Tuesday','yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in ['Monday','Tuesday']">{{$t('day.'+d)}}</div>
                                <div class="row no-gutters yp-header-cell d-sm-none"><h5>{{DateTime.local(year, 1, 1).setLocale(lang).toLocaleString({year:'numeric'})}}</h5></div><template v-for="w in 5" ><div class="row no-gutters  yp-cell d-sm-none" v-bind:class="{'yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in daysOfWeek">{{$t('day.'+d)}}</div></template><div class="row no-gutters d-sm-none"          v-bind:class="{'yp-cell':  ( d != 'Sunday'), 'yp-cell-bottom':  d == 'Tuesday','yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in ['Monday','Tuesday']">{{$t('day.'+d)}}</div>
                                <div class="row no-gutters yp-header-cell d-sm-none"><h5>{{DateTime.local(year, 1, 1).setLocale(lang).toLocaleString({year:'numeric'})}}</h5></div><template v-for="w in 5" ><div class="row no-gutters  yp-cell d-sm-none" v-bind:class="{'yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in daysOfWeek">{{$t('day.'+d)}}</div></template><div class="row no-gutters d-sm-none"          v-bind:class="{'yp-cell':  ( d != 'Sunday'), 'yp-cell-bottom':  d == 'Tuesday','yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in ['Monday','Tuesday']">{{$t('day.'+d)}}</div>
                                <div class="row no-gutters yp-header-cell d-sm-none"><h5>{{DateTime.local(year, 1, 1).setLocale(lang).toLocaleString({year:'numeric'})}}</h5></div><template v-for="w in 5" ><div class="row no-gutters  yp-cell d-sm-none" v-bind:class="{'yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in daysOfWeek">{{$t('day.'+d)}}</div></template><div class="row no-gutters d-sm-none"          v-bind:class="{'yp-cell':  ( d != 'Sunday'), 'yp-cell-bottom':  d == 'Tuesday','yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in ['Monday','Tuesday']">{{$t('day.'+d)}}</div>
                                <div class="row no-gutters yp-header-cell d-sm-none"><h5>{{DateTime.local(year, 1, 1).setLocale(lang).toLocaleString({year:'numeric'})}}</h5></div><template v-for="w in 5" ><div class="row no-gutters  yp-cell d-sm-none" v-bind:class="{'yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in daysOfWeek">{{$t('day.'+d)}}</div></template><div class="row no-gutters d-sm-none"          v-bind:class="{'yp-cell':  ( d != 'Sunday'), 'yp-cell-bottom':  d == 'Tuesday','yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in ['Monday','Tuesday']">{{$t('day.'+d)}}</div>
                                <div class="row no-gutters yp-header-cell d-sm-none"><h5>{{DateTime.local(year, 1, 1).setLocale(lang).toLocaleString({year:'numeric'})}}</h5></div><template v-for="w in 5" ><div class="row no-gutters  yp-cell d-sm-none" v-bind:class="{'yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in daysOfWeek">{{$t('day.'+d)}}</div></template><div class="row no-gutters d-sm-none"          v-bind:class="{'yp-cell':  ( d != 'Sunday'), 'yp-cell-bottom':  d == 'Tuesday','yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in ['Monday','Tuesday']">{{$t('day.'+d)}}</div>
                                <div class="row no-gutters yp-header-cell d-sm-none"><h5>{{DateTime.local(year, 1, 1).setLocale(lang).toLocaleString({year:'numeric'})}}</h5></div><template v-for="w in 5" ><div class="row no-gutters  yp-cell d-sm-none" v-bind:class="{'yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in daysOfWeek">{{$t('day.'+d)}}</div></template><div class="row no-gutters d-sm-none"          v-bind:class="{'yp-cell':  ( d != 'Sunday'), 'yp-cell-bottom':  d == 'Tuesday','yp-cell-weekend': d == 'Saturday' || d == 'Sunday'}"  v-for="d in ['Monday','Tuesday']">{{$t('day.'+d)}}</div>

                            </div>
                        <div id="yp-months" class="col-8 col-sm-9 col-md-10 col-lg-10 col-xl-11">
                            <div class="row no-gutters">
                                <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-1" v-for="(m,mindex) in monthsOfYear">
                                    <div class="row no-gutters" v-bind:class="{'yp-header-cell': m != 'December', 'yp-header-cell-right' : m == 'December'}" ><a class="yp-anchor" v-bind:name="m" ></a><h5>{{$t('month.'+m)}}</h5></div>
                                    <div class="row no-gutters yp-cell"
                                         v-bind:class="{'yp-cell-right': m == 'December', 'yp-cell-weekend': (n-1) % 7 > 4 }"
                                         v-for="n in firstWeekdayOfMonth[mindex]-1">&nbsp;
                                    </div>
                                    <div class="row no-gutters yp-cell"
                                         v-bind:class="{'yp-cell-bottom': n+firstWeekdayOfMonth[mindex]-1 == 37 && m != 'December','yp-cell-right': n+firstWeekdayOfMonth[mindex]-1 < 37 && m == 'December', 'yp-cell-bottom-right': n+firstWeekdayOfMonth[mindex]-1 == 37 && m == 'December', 'yp-cell-past': DateTime.local(year,mindex+1,n).ts < DateTime.local(cyear,cmonth,cday).ts,'yp-cell-weekend': (n+firstWeekdayOfMonth[mindex]-1-1) % 7 > 4,'yp-cell-c1':getEntryColour(mindex,n)==1,'yp-cell-c2':getEntryColour(mindex,n)==2,'yp-cell-c3':getEntryColour(mindex,n)==3,'yp-cell-c4':getEntryColour(mindex,n)==4,'yp-cell-c5':getEntryColour(mindex,n)==5,'yp-cell-c6':getEntryColour(mindex,n)==6,'yp-cell-c7':getEntryColour(mindex,n)==7,'yp-cell-c8':getEntryColour(mindex,n)==8,'yp-cell-today': cyear == year && cmonth==mindex+1 && cday == n  }"
                                         v-for="n in daysInMonth[mindex]" data-toggle="modal" data-target="#entryModal"
                                         v-on:click="updateEntryState(mindex,n)">

                                        <span class="yp-cell-text">{{DateTime.local(year, mindex+1, n).setLocale(lang).toLocaleString({day:'numeric'})}}&nbsp;</span>
                                        <span class="yp-cell-text" data-toggle="tooltip" data-html="true" data-placement="bottom" v-bind:data-original-title="getEntryTypeIcon(mindex,n)+' ' +getEntry(mindex,n).trimStart()">
                                        <i v-bind:class="{'d-inline':getEntryType(mindex,n)==1,'d-none':getEntryType(mindex,n)!=1}" class="fas fa-bell"></i>
                                        <i v-bind:class="{'d-inline':getEntryType(mindex,n)==2,'d-none':getEntryType(mindex,n)!=2}" class="fas fa-birthday-cake"></i>
                                        <i v-bind:class="{'d-inline':getEntryType(mindex,n)==3,'d-none':getEntryType(mindex,n)!=3}" class="fas fa-glass-martini"></i>
                                        <i v-bind:class="{'d-inline':getEntryType(mindex,n)==4,'d-none':getEntryType(mindex,n)!=4}" class="fas fa-utensils"></i>
                                        <i v-bind:class="{'d-inline':getEntryType(mindex,n)==5,'d-none':getEntryType(mindex,n)!=5}" class="fas fa-graduation-cap"></i>
                                        <i v-bind:class="{'d-inline':getEntryType(mindex,n)==6,'d-none':getEntryType(mindex,n)!=6}" class="fas fa-heartbeat"></i>
                                            {{getEntry(mindex,n).trimStart()}}</span>
                                    </div>
                                    <div class="row no-gutters yp-cell"
                                         v-bind:class="{'yp-cell-right': m == 'December', 'yp-cell-weekend': (n+firstWeekdayOfMonth[mindex]+daysInMonth[mindex]-2) % 7 > 4, 'yp-cell-bottom': n==37-firstWeekdayOfMonth[mindex]-daysInMonth[mindex]+1 }"
                                         v-for="n in 37-firstWeekdayOfMonth[mindex]-daysInMonth[mindex]+1">&nbsp;
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="yp-table-subscript" class="text-muted text-right">▥ {{$t('label.created')}} {{DateTime.fromMillis(uid*1000).setLocale(lang).toLocaleString(DateTime.DATETIME_FULL)}}, {{$t('label.updated')}} {{DateTime.fromMillis(updated).setLocale(lang).toLocaleString(DateTime.TIME_SIMPLE)}}</a>
                    </div>
                    <div>&nbsp</div>
                </div>

            </div>



        </main>

        <div class="modal fade" id="cookieModal" tabindex="-1" role="dialog" aria-labelledby="cookieModalLabel" aria-hidden="true">
            <div id="cookie-dialog"  class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="notice d-flex justify-content-between align-items-center">
                            <div class="cookie-text">{{$t('label.cookies')}}</div>
                            <div class="buttons d-flex flex-column flex-lg-row">
                                <a href="#a" class="btn btn-secondary btn-sm" data-dismiss="modal" v-on:click="initialise()">{{$t('label.accept')}}</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="entryModal" tabindex="-1" role="dialog" aria-labelledby="entryModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="entryModalLabel">{{$t('month.'+monthsOfYear[month])+' '+day}}</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form>
                             <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1"  v-model="entryType" value="1">
                                <label class="form-check-label" for="inlineRadio1"><i class="fas fa-bell"></i></label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2"  v-model="entryType" value="2">
                                <label class="form-check-label" for="inlineRadio2"><i class="fas fa-birthday-cake"></i></label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3"  v-model="entryType" value="3">
                                <label class="form-check-label" for="inlineRadio3"><i class='fas fa-glass-martini'></i></label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio4"  v-model="entryType" value="4">
                                <label class="form-check-label" for="inlineRadio3"><i class="fas fa-utensils"></i></label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio5"  v-model="entryType" value="5">
                                <label class="form-check-label" for="inlineRadio3"><i class="fas fa-graduation-cap"></i></label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio6"  v-model="entryType" value="6">
                                <label class="form-check-label" for="inlineRadio3"><i class="fas fa-heartbeat"></i></label>
                            </div>
                            <div class="form-check form-check-inline" v-bind:class="{'d-none':entryType==0}">
                                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio0"  v-model="entryType" value="0">
                                <label class="form-check-label" for="inlineRadio0">{{$t('label.none')}}</label>
                            </div>
                            <div class="form-group">
                                <label for="recipient-name" class="col-form-label"></label>
                                <textarea type="text" placeholder="On this day ..." class="form-control" v-model="entry" id="yp-entry-textarea" rows="5" maxlength="256"
                                          v-bind:class="'yp-cell-c'+getEntryColour(month,day)"></textarea>
                            </div>
                            <div class="form-select-button">
                                <button type="button" class="btn yp-cell-c0" v-on:click="updateEntry(month,day,entry,entryType,0)">&nbsp;</button>
                                <button type="button" class="btn yp-cell-c1 yp-cell-btn" v-on:click="updateEntry(month,day,entry,entryType,1)">&nbsp;</button>
                                <button type="button" class="btn yp-cell-c2 yp-cell-btn" v-on:click="updateEntry(month,day,entry,entryType,2)">&nbsp;</button>
                                <button type="button" class="btn yp-cell-c3 yp-cell-btn" v-on:click="updateEntry(month,day,entry,entryType,3)">&nbsp;</button>
                                <button type="button" class="btn yp-cell-c4 yp-cell-btn" v-on:click="updateEntry(month,day,entry,entryType,4)">&nbsp;</button>
                                <button type="button" class="btn yp-cell-c5 yp-cell-btn" v-on:click="updateEntry(month,day,entry,entryType,5)">&nbsp;</button>
                                <button type="button" class="btn yp-cell-c6 yp-cell-btn" v-on:click="updateEntry(month,day,entry,entryType,6)">&nbsp;</button>
                                <button type="button" class="btn yp-cell-c7 yp-cell-btn" v-on:click="updateEntry(month,day,entry,entryType,7)">&nbsp;</button>
                                <button type="button" class="btn yp-cell-c8 yp-cell-btn" v-on:click="updateEntry(month,day,entry,entryType,8)">&nbsp;</button>
                                <button type="button" class="btn yp-cell-c0 " v-on:click="updateWeekColour(month,day,entryColour,0)"> > </button>
                                <button type="button" class="btn yp-cell-c0 " v-on:click="updateMonthColour(month,day,entryColour)"> >> </button>
<!--                                <button type="button" class="btn yp-cell-c7" v-on:click="updateEntry(month,day,entry,entryType,7)">&nbsp;</button>-->
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">{{$t('label.close')}}</button>
                        <button type="button" class="btn btn-primary" data-dismiss="modal" v-on:click="updateEntry(month,day,entry,entryType,entryColour)">{{$t('label.update')}}</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="shareModal" tabindex="-1" role="dialog" aria-labelledby="shareModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="shareModalLabel">{{$t('label.yearplanner')+' '+DateTime.local(year, 1, 1).setLocale(lang).toLocaleString({year:'numeric'})}}</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-group">
                                <label for="recipient-name" class="col-form-label">{{$t('label.sharecopy')}}</label>
                                <input  type="text" class="form-control" v-model="shareUrl" id="copyUrl">
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">{{$t('label.close')}}</button>
                        <button type="button" class="btn btn-primary"  v-on:click="copyUrl()">{{$t('label.copy')}}</button>

                    </div>
                </div>
            </div>
        </div>

        <div v-if="feature.pay" class="modal fade" id="payModal" tabindex="-1" role="dialog" aria-labelledby="shareModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="payModalLabel">Subscribe</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">

                        <div id="form-container">
                            <div id="sq-card-number"></div>
                            <div class="third" id="sq-expiration-date"></div>
                            <div class="third" id="sq-cvv"></div>
                            <div class="third" id="sq-postal-code"></div>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">{{$t('label.close')}}</button>
                        <button id="sq-creditcard" type="button" class="btn btn-primary button-credit-card"  v-on:click="onGetCardNonce(event)">Pay $1.00</button>
                    </div>
                    <script type="text/javascript">

                        const idempotency_key = uuidv4();

                        // Create and initialize a payment form object
                        const paymentForm = new SqPaymentForm({
                            // Initialize the payment form elements

                           // applicationId: "REPLACE_WITH_APPLICATION_ID";
                            applicationId: "sandbox-sq0idb-ZaOa3uAuhkRfgVmR2xHQyA",
                            inputClass: 'sq-input',
                            autoBuild: false,
                            // Customize the CSS for SqPaymentForm iframe elements
                            inputStyles: [{
                                fontSize: '16px',
                                lineHeight: '24px',
                                padding: '16px',
                                placeholderColor: '#a0a0a0',
                                backgroundColor: 'transparent',
                            }],
                            // Initialize the credit card placeholders
                            cardNumber: {
                                elementId: 'sq-card-number',
                                placeholder: 'Card Number'
                            },
                            cvv: {
                                elementId: 'sq-cvv',
                                placeholder: 'CVV'
                            },
                            expirationDate: {
                                elementId: 'sq-expiration-date',
                                placeholder: 'MM/YY'
                            },
                            postalCode: {
                                elementId: 'sq-postal-code',
                                placeholder: 'Postal'
                            },
                            // SqPaymentForm callback functions
                            callbacks: {
                                /*
                                * callback function: cardNonceResponseReceived
                                * Triggered when: SqPaymentForm completes a card nonce request
                                */
                                cardNonceResponseReceived: function (errors, nonce, cardData) {
                                    if (errors) {
                                        // Log errors from nonce generation to the browser developer console.
                                        console.error('Encountered errors:');
                                        errors.forEach(function (error) {
                                            console.error('  ' + error.message);
                                        });
                                        alert('Encountered errors, check browser developer console for more details');
                                        return;
                                    }

                                    // alert(`The generated nonce is:\n${nonce}`);
                                    fetch('process-payment', {
                                        method: 'POST',
                                        headers: {
                                            'Accept': 'application/json',
                                            'Content-Type': 'application/json'
                                        },
                                        body: JSON.stringify({
                                            nonce: nonce,
                                            idempotency_key: idempotency_key,
                                            // location_id: "REPLACE_WITH_LOCATION_ID"
                                            location_id: "LDF5NP9BZJ0CP"
                                        })
                                    })
                                        .catch(err => {
                                            alert('Network error: ' + err);
                                        })
                                        .then(response => {
                                            if (!response.ok) {
                                                return response.json().then(
                                                    errorInfo => Promise.reject(errorInfo));
                                            }
                                            return response.json();
                                        })
                                        .then(data => {
                                            console.log(data);
                                            alert('Payment complete successfully!\nCheck browser developer console for more details');
                                        })
                                        .catch(err => {
                                            console.error(err);
                                            alert('Payment failed to complete!\nCheck browser developer console for more details');
                                        });

                                }
                            }
                        });

                        paymentForm.build();

                        //TODO: paste code from step 2.1.2

                        // onGetCardNonce is triggered when the "Pay $1.00" button is clicked
                        function onGetCardNonce(event) {

                            // Don't submit the form until SqPaymentForm returns with a nonce
                            event.preventDefault();
                            // Request a nonce from the SqPaymentForm object
                            paymentForm.requestCardNonce();
                        }
                    </script>
                </div>
            </div>
        </div>

        <footer class="footer fixed-bottom">
            <div id ="footer-container" class="container">
                <div class="row">
                    <div class="col-2">

                        <div id="footer-text-left" class="text-muted text-left">
                            <div class="dropup show">
                                <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    {{$t('lang.'+lang)}}
                                </button>
                                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                    <a class="dropdown-item" v-bind:href="'/?id='+uid+'&year='+year+'&lang=en'+'&theme='+theme">English</a>
                                    <a class="dropdown-item" v-bind:href="'/?id='+uid+'&year='+year+'&lang=zh'+'&theme='+theme">中國人</a>
                                    <a class="dropdown-item" v-bind:href="'/?id='+uid+'&year='+year+'&lang=hi'+'&theme='+theme">हिन्दी</a>
                                    <a class="dropdown-item" v-bind:href="'/?id='+uid+'&year='+year+'&lang=es'+'&theme='+theme">español</a>
                                    <a class="dropdown-item" v-bind:href="'/?id='+uid+'&year='+year+'&lang=fr'+'&theme='+theme">français</a>
                                    <a class="dropdown-item" v-bind:href="'/?id='+uid+'&year='+year+'&lang=ar'+'&theme='+theme">عربى</a>
                                    <a class="dropdown-item" v-bind:href="'/?id='+uid+'&year='+year+'&lang=ru'+'&theme='+theme">русский</a>
                                    <a class="dropdown-item" v-bind:href="'/?id='+uid+'&year='+year+'&lang=pt'+'&theme='+theme">português</a>
                                    <a class="dropdown-item" v-bind:href="'/?id='+uid+'&year='+year+'&lang=ja'+'&theme='+theme">日本語</a>
                                    <a class="dropdown-item" v-bind:href="'/?id='+uid+'&year='+year+'&lang=id'+'&theme='+theme">Bahasa Indonesia</a>
                                </div>
                            </div>
                        </div>

                    </div>
<!--                    <div class="col-xs-1 col-sm-4">-->
<!--                        <div id="footer-text-left" class="text-muted text-left"></div>-->
<!--                    </div>-->
                    <div class="col-10">
                        <div id="footer-text-right" class="text-muted text-right">© 2021, Craig Parravicini&nbsp;<a href="https://github.com/craigparra/year-planner" target="_blank"><i class="fab fa-github"></i>&nbsp;README.md</a>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>



    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


    <script src="https://cdn.jsdelivr.net/npm/luxon@1.26.0/build/global/luxon.min.js"></script>
    <script src="js/lodash.min.js"></script>
    <script src="js/lz-string.min.js"></script>

    <script  src="js/features.js"></script>
    <script  src="js/i81n.js"></script>
    <script  src="js/cookies.js"></script>
    <script  src="js/storage.js"></script>
    <script  src="js/api.js"></script>
    <script  src="js/uuid.js"></script>
    <script  src="js/main.js"></script>

</body>
</html>